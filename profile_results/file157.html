<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for smartForReduce</title><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">smartForReduce (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/><i>Generated 03-Apr-2014 11:11:24 using cpu time.</i><br/>function in file /Applications/MATLAB_R2013b.app/toolbox/stats/stats/+internal/+stats/+parallel/smartForReduce.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file143.html">kmeans</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line128">128</a></td><td class="td-linebottomrt"><pre>reduce = loopbody(iter, S);</pre></td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">1.672 s</td><td class="td-linebottomrt">12802.50 Kb</td><td class="td-linebottomrt">13117.09 Kb</td><td class="td-linebottomrt">98.03 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">89.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=89 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line77">77</a></td><td class="td-linebottomrt"><pre>internal.stats.parallel.iscomp...</pre></td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.044 s</td><td class="td-linebottomrt">114.34 Kb</td><td class="td-linebottomrt">91.06 Kb</td><td class="td-linebottomrt">23.47 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">2.4%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line80">80</a></td><td class="td-linebottomrt"><pre>[streamsOnPool, useSubstreams,...</pre></td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.039 s</td><td class="td-linebottomrt">86.56 Kb</td><td class="td-linebottomrt">50.97 Kb</td><td class="td-linebottomrt">6.28 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">2.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line95">95</a></td><td class="td-linebottomrt"><pre>[reductionOperator,reductionVa...</pre></td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.028 s</td><td class="td-linebottomrt">98.03 Kb</td><td class="td-linebottomrt">49.62 Kb</td><td class="td-linebottomrt">4.64 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">1.5%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line137">137</a></td><td class="td-linebottomrt"><pre>internal.stats.parallel.reconc...</pre></td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.017 s</td><td class="td-linebottomrt">42.27 Kb</td><td class="td-linebottomrt">40.50 Kb</td><td class="td-linebottomrt">3.06 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">0.9%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.078 s</td><td class="td-linebottomrt">183.64 Kb</td><td class="td-linebottomrt">258.05 Kb</td><td class="td-linebottomrt">98.03 Kb</td><td class="td-linebottomrt">4.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.878 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">13327.34 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">13607.30 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">98.03 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file164.html">kmeans>loopBody</a></td><td class="td-linebottomrt">nested function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">1.661 s</td><td class="td-linebottomrt">12790.14 Kb</td><td class="td-linebottomrt">13115.98 Kb</td><td class="td-linebottomrt">98.03 Kb</td><td class="td-linebottomrt">88.5%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=88 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file158.html">iscompatibleRNGscheme</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.033 s</td><td class="td-linebottomrt">97.08 Kb</td><td class="td-linebottomrt">79.09 Kb</td><td class="td-linebottomrt">23.47 Kb</td><td class="td-linebottomrt">1.8%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file160.html">processReductionVariableArgument</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.028 s</td><td class="td-linebottomrt">83.33 Kb</td><td class="td-linebottomrt">37.19 Kb</td><td class="td-linebottomrt">3.73 Kb</td><td class="td-linebottomrt">1.5%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file159.html">unpackRNGscheme</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.022 s</td><td class="td-linebottomrt">64.98 Kb</td><td class="td-linebottomrt">31.55 Kb</td><td class="td-linebottomrt">6.28 Kb</td><td class="td-linebottomrt">1.2%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file169.html">reconcileStreamsAfterLoop</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.011 s</td><td class="td-linebottomrt">23.67 Kb</td><td class="td-linebottomrt">24.91 Kb</td><td class="td-linebottomrt">0.14 Kb</td><td class="td-linebottomrt">0.6%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file168.html">pickSmaller</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">250</td><td class="td-linebottomrt">0.006 s</td><td class="td-linebottomrt">22.92 Kb</td><td class="td-linebottomrt">11.78 Kb</td><td class="td-linebottomrt">7.02 Kb</td><td class="td-linebottomrt">0.3%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.117 s</td><td class="td-linebottomrt">245.22 Kb</td><td class="td-linebottomrt">306.80 Kb</td><td class="td-linebottomrt">98.03 Kb</td><td class="td-linebottomrt">6.2%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=6 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1.878 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">13327.34 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">13607.30 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">98.03 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line114">114</a></td><td class="td-linebottomrt"><span class="mono">Variable 'reductionOperator' is indexed, but not sliced, in a PARFOR loop. This might result in unnecessary communication overhead.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">160</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">120</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">40</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">24</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">16</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">60.00 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><table border = "0" cellpadding = "1" cellspacing = "5"><style> td,th { text-align:center; } .leftAligned{ text-align:left; }</style><tr><th><span style="color: #FF0000; font-weight: bold; text-decoration: none">time</span> </th><th><span style="color: #0000FF; font-weight: bold; text-decoration: none">calls</span> </th><th><span style="color: #20AF20; font-weight: bold; text-decoration: none">mem</span> </th><th class="leftAligned"><span style="font-weight: bold; text-decoration: none">  line</span></th></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function reductionValue = smartForReduce( niter, loopbody, useParallel, ...</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   2</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                    RNGscheme, reductionVariables)</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%SMARTFORREDUCE Adaptive dispatch of for-loops or parfor-loops.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%   SMARTFORREDUCE provides dispatching of for-loops or parfor-loops on behalf of </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%   Statistics Toolbox commands that support both serial and parallel </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%   modes of computation.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   VARARGOUT = ...</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%       SMARTFORREDUCE(NITER,LOOPBODY,USEPARALLEL,RNGSCHEME,REDUCTIONVARIABLES)</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%   identifies reduction variables and specifies how they are to be calculated.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%   REDUCTIONVARIABLES may be absent or empty if the call to SMARTFORREDUCE </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%   does not involve any reduction variables. REDUCTIONVARIABLES may</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%   have one of two forms.  The canonical form is a 2-element cell array,</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%   in which the first element is a function handle REDUCTFUN of the form,</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   VAL = REDUCTFUN(VAL,UPDATE), and REDUCTFUN is commutative and </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%   associative, and the second element is an initial value for the </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%   reduction variable (eg, VAL), so that the first invocation of</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%   REDUCTFUN will have initialized operands.  The second form is a </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%   keyword string, which can take the values 'argmin' or 'argmax'.  </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%   If the keyword form is specified, SMARTFORREDUCE will supply the</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%   appropriate REDUCTFUN and initial value.  If REDUCTIONVARIABLES is </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%   present, and not empty, the function LOOPBODY must supply the </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%   reduction variable value calculated on each invocation as the last,</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%   or rightmost, of its return arguments.  If the keyword 'argmin' or</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%   'argmax' is specified the SMARTFORREDUCE, the reduction variable value</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%   must be a cell array, and the first element of the cell array </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%   must be a numeric value that can be supplied as an operand to</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%   MIN or MAX, respectively.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%   The function LOOPBODY must support the calling signature</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%   VARARGOUT = LOOPBODY(ITER,S), where ITER is the index of the</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%   for-loop or parfor-loop executing within SMARTFORSLICEOUT, </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%   and S is either empty or a RandStream object.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%   If S is empty, it tells LOOPBODY that no user-supplied RANDSTREAM</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%   object was specified, in which case, if LOOPBODY needs to generate</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%   random numbers, it should use the MATLAB default random stream.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%   The contents of the struct RNGSCHEME are:</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%   </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%       uuid               string       Unique identifier for the RNGscheme </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%       useSubstreams      boolean      If 'true', use a separate Substream </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%                                       for each iterate of the loop</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%       streams            cell array   The RandStream object(s) to be used </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%                                       for random number generation during the</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%                                       invocation of SMARTFORREDUCE. Can be empty. </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%       valid              boolean      RNGSCHEME is currently valid (T/F)</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%       useDefaultStream   boolean      RNGSCHEME uses default RANDSTREAM(s) (T/F)</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%       streamsOnPool      boolean      RNGscheme deploys multiple streams </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%                                       on a matlabpool (T/F)</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%   SMARTFORREDUCE is an internal utility for use by </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%   Statistics Toolbox commands, and is not meant for general purpose use.  </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%   External users should not rely on its functionality.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 2010 The MathWorks, Inc.</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">    %-------- Initial sanity check --------</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">    % For efficiency we skip these, but can provide checks if warranted:</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">    %     1. niter is a positive integer</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">    %     2. loopbody is a function handle</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">    %     3. useParallel is logical</span><br/></pre></td></tr><tr><td></td><td></td><td> (250 calls, 1.878 sec, 13327.34 Kb, 13607.30 Kb, 98.03 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  66</span> <span style="color: #000000; background: #FFFFFF;">if nargin &lt; 5 || isempty(reductionVariables) </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">    % This function should not be called unless reduction variables</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">    % are to be calculated.</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  69</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error(message('stats:parallel:smartForReduce'));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  70</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%-------- If present, check and pre-process 'RNGscheme' --------</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  74</span> <span style="color: #000000; background: #FFFFFF;">if ~isempty(RNGscheme) </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">    % Abort if we know that the RNG inputs will not work with the</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       11.7k/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">    % requested computation mode.</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.04 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">   114k/91.1k/23.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  77</span> <a name="Line77"></a><span style="color: #000000; background: #FFFFFF;">    internal.stats.parallel.<a href="file158.html">iscompatibleRNGscheme</a>(useParallel,RNGscheme); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">   114k/91.1k/23.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  78</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   114k/91.1k/23.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.04 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  80</span> <a name="Line80"></a><span style="color: #000000; background: #FFFFFF;">[streamsOnPool, useSubstreams, S, uuid] = ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  81</span> <span style="color: #000000; background: #FFFFFF;">    internal.stats.parallel.unpackRNGscheme(RNGscheme);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #000000; background: #FFFFFF;">if useSubstreams </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  84</span> <span style="color: #A0A0A0; background: #FFFFFF;">    initialSubstream = internal.stats.parallel.freshSubstream(S);</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  85</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  86</span> <span style="color: #228B22; background: #FFFFFF;">    % This value will not be used but the definition is </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  87</span> <span style="color: #228B22; background: #FFFFFF;">    % necessary for parfor static analysis.</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  88</span> <span style="color: #000000; background: #FFFFFF;">    initialSubstream = 0; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  89</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    86.6k/51k/6.28k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">      35.1k/0b/176b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  91</span> <span style="color: #000000; background: #FFFFFF;">usePool = useParallel &amp;&amp; streamsOnPool; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      35.1k/0b/176b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  92</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      35.1k/0b/176b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  93</span> <span style="color: #228B22; background: #FFFFFF;">%-------- Pre-process 'reductionVariables' --------</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      35.1k/0b/176b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.03 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    98k/49.6k/4.64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  95</span> <a name="Line95"></a><span style="color: #000000; background: #FFFFFF;">[reductionOperator,reductionValue] = ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    98k/49.6k/4.64k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  96</span> <span style="color: #000000; background: #FFFFFF;">     internal.stats.parallel.processReductionVariableArgument(reductionVariables);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    98k/49.6k/4.64k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  97</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    98k/49.6k/4.64k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  98</span> <span style="color: #228B22; background: #FFFFFF;">%-------- Now embark on the loops --------</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    98k/49.6k/4.64k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">       23.3k/0b/96b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 100</span> <span style="color: #000000; background: #FFFFFF;">try </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       23.3k/0b/96b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 101</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 102</span> <span style="color: #000000; background: #FFFFFF;">    if useParallel </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 103</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">        parfor iter = 1:niter</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 105</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 106</span> <span style="color: #228B22; background: #FFFFFF;">            %---- Get the RandStream to use for this iterate, if any ----</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">            T = internal.stats.parallel.prepareStream( ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">                iter,initialSubstream,S,usePool,useSubstreams,uuid);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 109</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 110</span> <span style="color: #228B22; background: #FFFFFF;">            %---- Run the loop body ---</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 111</span> <span style="color: #A0A0A0; background: #FFFFFF;">            reduce = feval(loopbody, iter, T);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 112</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 113</span> <span style="color: #228B22; background: #FFFFFF;">            %---- Update any reduction variables ----</span><br/></pre></td></tr><tr><a name="Line114"></a><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 114</span> <span style="color: #A0A0A0; background: #FFFFFF;">            reductionValue = reductionOperator(reductionValue, reduce);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 115</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 116</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end %-of parfor loop</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       32b/192b/32b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 117</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">       192b/0b/128b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 118</span> <span style="color: #228B22; background: #FFFFFF;">    else </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       192b/0b/128b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 119</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       192b/0b/128b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 120</span> <span style="color: #228B22; background: #FFFFFF;">        %-------- SERIAL COMPUTATION --------</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       192b/0b/128b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 121</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.02 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">      39.2k/0b/208b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 122</span> <span style="color: #000000; background: #FFFFFF;">        for iter = 1:niter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      39.2k/0b/208b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 123</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">     5.38k/0b/5.38k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 124</span> <span style="color: #000000; background: #FFFFFF;">            if useSubstreams </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     5.38k/0b/5.38k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 125</span> <span style="color: #A0A0A0; background: #FFFFFF;">                S.Substream = iter + initialSubstream - 1;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     5.38k/0b/5.38k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 126</span> <span style="color: #A0A0A0; background: #FFFFFF;">            end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     5.38k/0b/5.38k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 127</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.67 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    12.5m/12.8m/98k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 128</span> <a name="Line128"></a><span style="color: #000000; background: #FF8080;">            reduce = loopbody(iter, S); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    12.5m/12.8m/98k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 129</span> <span style="color: #228B22; background: #FFFFFF;">            </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">  45.1k/23.8k/7.02k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 130</span> <span style="color: #000000; background: #FFFFFF;">            reductionValue = reductionOperator(reductionValue, reduce); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">        0b/16.1k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 131</span> <span style="color: #000000; background: #FFFFFF;">        end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/16.1k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 132</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">         64b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 133</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         64b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 134</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         64b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 135</span> <span style="color: #228B22; background: #FFFFFF;">    %-------- Post-loop coordination --------</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.02 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">      32b/13.7k/32b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 136</span> <span style="color: #000000; background: #FFFFFF;">    if ~isempty(RNGscheme) </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.02 </span></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">  42.3k/40.5k/3.06k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 137</span> <a name="Line137"></a><span style="color: #000000; background: #FFFFFF;">        internal.stats.parallel.<a href="file169.html">reconcileStreamsAfterLoop</a>( ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  42.3k/40.5k/3.06k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 138</span> <span style="color: #000000; background: #FFFFFF;">            RNGscheme, initialSubstream, niter);</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 139</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 140</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 141</span> <span style="color: #A0A0A0; background: #FFFFFF;">catch ME</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 142</span> <span style="color: #228B22; background: #FFFFFF;">    % If Substreams were used, reset the Substream as if we had</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 143</span> <span style="color: #228B22; background: #FFFFFF;">    % run all niter iterates.</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 144</span> <span style="color: #228B22; background: #FFFFFF;">    % Note that as this try/catch is currently positioned,</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 145</span> <span style="color: #228B22; background: #FFFFFF;">    % we will reset the Substream if an error occurrs in the</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 146</span> <span style="color: #228B22; background: #FFFFFF;">    % parfor/for loop, but not if an error occurs in the </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 147</span> <span style="color: #228B22; background: #FFFFFF;">    % preamble part of the function, before any iterates are</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 148</span> <span style="color: #228B22; background: #FFFFFF;">    % performed (in which case the Substream was not altered</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 149</span> <span style="color: #228B22; background: #FFFFFF;">    % within this routine).  We could consider resetting the </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 150</span> <span style="color: #228B22; background: #FFFFFF;">    % Substream in the same way regardless of when/where an error</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 151</span> <span style="color: #228B22; background: #FFFFFF;">    % occurs.  However, since errors can potentially occur</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 152</span> <span style="color: #228B22; background: #FFFFFF;">    % in processing the RNGscheme argument, we may not always </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 153</span> <span style="color: #228B22; background: #FFFFFF;">    % have a valid definition for the random number stream (S).</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 154</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if useSubstreams</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 155</span> <span style="color: #A0A0A0; background: #FFFFFF;">        S.Substream = initialSubstream + niter;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 156</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 157</span> <span style="color: #A0A0A0; background: #FFFFFF;">    rethrow(ME);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 158</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    112b/17.8k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 159</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">    250 </span></td><td><span style="color: #20AF20">          0b/31k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #000000; background: #FFFFFF;">end %-smartFor </span><br/></pre></td></tr></table><p><p>Other subfunctions in this file are not included in this listing.</body></html>