<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for fspecial</title><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">fspecial (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/><i>Generated 03-Apr-2014 11:11:52 using cpu time.</i><br/>function in file /Applications/MATLAB_R2013b.app/toolbox/images/images/fspecial.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file28.html">TrackWings_SegmentFlies_GUI</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">1</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line99">99</a></td><td class="td-linebottomrt"><pre>[type, p2, p3] = ParseInputs(v...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.006 s</td><td class="td-linebottomrt">92.66 Kb</td><td class="td-linebottomrt">2.89 Kb</td><td class="td-linebottomrt">60.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">100.0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=100 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line225">225</a></td><td class="td-linebottomrt"><pre>h = [1 2 1;0 0 0;-1 -2 -1];</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0.08 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">0.08 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line224">224</a></td><td class="td-linebottomrt"><pre>case 'sobel' % Sobel filter</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">1.00 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">1.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line221">221</a></td><td class="td-linebottomrt"><pre>case 'prewitt' % Prewitt filte...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0.09 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">0.09 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line183">183</a></td><td class="td-linebottomrt"><pre>case 'motion' % Motion filter ...</pre></td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt">2.25 Kb</td><td class="td-linebottomrt">0.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">93.64 Kb</td><td class="td-linebottomrt">2.20 Kb</td><td class="td-linebottomrt">60.00 Kb</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.006 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">187.47 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">7.34 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">93.64 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file219.html">fspecial>ParseInputs</a></td><td class="td-linebottomrt">subfunction</td><td class="td-linebottomrt">1</td><td class="td-linebottomrt">0.006 s</td><td class="td-linebottomrt">81.14 Kb</td><td class="td-linebottomrt">2.89 Kb</td><td class="td-linebottomrt">60.00 Kb</td><td class="td-linebottomrt">100.0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=100 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">106.33 Kb</td><td class="td-linebottomrt">4.45 Kb</td><td class="td-linebottomrt">93.64 Kb</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.006 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">187.47 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">7.34 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">93.64 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line197">197</a></td><td class="td-linebottomrt"><span class="mono">Best practice is to separate output variables with commas.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">231</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">139</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">92</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">11</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">81</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">11.96 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><table border = "0" cellpadding = "1" cellspacing = "5"><style> td,th { text-align:center; } .leftAligned{ text-align:left; }</style><tr><th><span style="color: #FF0000; font-weight: bold; text-decoration: none">time</span> </th><th><span style="color: #0000FF; font-weight: bold; text-decoration: none">calls</span> </th><th><span style="color: #20AF20; font-weight: bold; text-decoration: none">mem</span> </th><th class="leftAligned"><span style="font-weight: bold; text-decoration: none">  line</span></th></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function h = fspecial(varargin)</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%FSPECIAL Create predefined 2-D filters.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL(TYPE) creates a two-dimensional filter H of the</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   specified type. Possible values for TYPE are:</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%     'average'   averaging filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%     'disk'      circular averaging filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%     'gaussian'  Gaussian lowpass filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%     'laplacian' filter approximating the 2-D Laplacian operator</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%     'log'       Laplacian of Gaussian filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%     'motion'    motion filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%     'prewitt'   Prewitt horizontal edge-emphasizing filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%     'sobel'     Sobel horizontal edge-emphasizing filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%   Depending on TYPE, FSPECIAL may take additional parameters</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   which you can supply.  These parameters all have default</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%   values. </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('average',HSIZE) returns an averaging filter H of size</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%   HSIZE. HSIZE can be a vector specifying the number of rows and columns in</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%   H or a scalar, in which case H is a square matrix.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%   The default HSIZE is [3 3].</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('disk',RADIUS) returns a circular averaging filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%   (pillbox) within the square matrix of side 2*RADIUS+1.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%   The default RADIUS is 5.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('gaussian',HSIZE,SIGMA) returns a rotationally</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%   symmetric Gaussian lowpass filter  of size HSIZE with standard</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%   deviation SIGMA (positive). HSIZE can be a vector specifying the</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%   number of rows and columns in H or a scalar, in which case H is a</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%   square matrix.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%   The default HSIZE is [3 3], the default SIGMA is 0.5.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('laplacian',ALPHA) returns a 3-by-3 filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%   approximating the shape of the two-dimensional Laplacian</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%   operator. The parameter ALPHA controls the shape of the</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%   Laplacian and must be in the range 0.0 to 1.0.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%   The default ALPHA is 0.2.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('log',HSIZE,SIGMA) returns a rotationally symmetric</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%   Laplacian of Gaussian filter of size HSIZE with standard deviation</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%   SIGMA (positive). HSIZE can be a vector specifying the number of rows</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%   and columns in H or a scalar, in which case H is a square matrix.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%   The default HSIZE is [5 5], the default SIGMA is 0.5.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('motion',LEN,THETA) returns a filter to approximate, once</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%   convolved with an image, the linear motion of a camera by LEN pixels,</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%   with an angle of THETA degrees in a counter-clockwise direction. The</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%   filter becomes a vector for horizontal and vertical motions.  The</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%   default LEN is 9, the default THETA is 0, which corresponds to a</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%   horizontal motion of 9 pixels.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('prewitt') returns 3-by-3 filter that emphasizes</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%   horizontal edges by approximating a vertical gradient. If you need to</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%   emphasize vertical edges, transpose the filter H: H'.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%       [1 1 1;0 0 0;-1 -1 -1].</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('sobel') returns 3-by-3 filter that emphasizes</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%   horizontal edges utilizing the smoothing effect by approximating a</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%   vertical gradient. If you need to emphasize vertical edges, transpose</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%   the filter H: H'.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%       [1 2 1;0 0 0;-1 -2 -1].</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">%   Class Support</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%   -------------</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%   H is of class double.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;">%2</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;">%   Example</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%   -------</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">%      I = imread('cameraman.tif');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;">%      subplot(2,2,1);imshow(I);title('Original Image'); </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">%      H = fspecial('motion',20,45);</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">%      MotionBlur = imfilter(I,H,'replicate');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  77</span> <span style="color: #228B22; background: #FFFFFF;">%      subplot(2,2,2);imshow(MotionBlur);title('Motion Blurred Image');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">%      H = fspecial('disk',10);</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;">%      blurred = imfilter(I,H,'replicate');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  80</span> <span style="color: #228B22; background: #FFFFFF;">%      subplot(2,2,3);imshow(blurred);title('Blurred Image');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">%       </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">%   See also CONV2, EDGE, FILTER2, FSAMP2, FWIND1, FWIND2, IMFILTER, IMSHARPEN</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 1993-2012 The MathWorks, Inc.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  86</span> <span style="color: #228B22; background: #FFFFFF;">%   Use IMSHARPEN in place of the 'unsharp' mask syntax. </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  87</span> <span style="color: #228B22; background: #FFFFFF;">% </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  88</span> <span style="color: #228B22; background: #FFFFFF;">%   'unsharp'   unsharp contrast enhancement filter</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  89</span> <span style="color: #228B22; background: #FFFFFF;">%   H = FSPECIAL('unsharp',ALPHA) returns a 3-by-3 unsharp contrast</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;">%   enhancement filter. FSPECIAL creates the unsharp filter from the</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  91</span> <span style="color: #228B22; background: #FFFFFF;">%   negative of the Laplacian filter with parameter ALPHA. ALPHA controls</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  92</span> <span style="color: #228B22; background: #FFFFFF;">%   the shape of the Laplacian and must be in the range 0.0 to 1.0.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  93</span> <span style="color: #228B22; background: #FFFFFF;">%   The default ALPHA is 0.2.</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;">% </span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  95</span> <span style="color: #228B22; background: #FFFFFF;">%      H = fspecial('unsharp');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  96</span> <span style="color: #228B22; background: #FFFFFF;">%      sharpened = imfilter(I,H,'replicate');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  97</span> <span style="color: #228B22; background: #FFFFFF;">%      subplot(2,2,4);imshow(sharpened);title('Sharpened Image');</span><br/></pre></td></tr><tr><td></td><td></td><td> (1 call, 0.006 sec, 187.47 Kb, 7.34 Kb, 93.64 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  98</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">    92.7k/2.89k/60k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  99</span> <a name="Line99"></a><span style="color: #000000; background: #FF8080;">[type, p2, p3] = <a href="file219.html">ParseInputs</a>(varargin{:}); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    92.7k/2.89k/60k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 100</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">    92.7k/2.89k/60k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 101</span> <span style="color: #000000; background: #FFFFFF;">switch type </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 102</span> <span style="color: #000000; background: #FFFFFF;">  case 'average' % Smoothing filter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">     siz = p2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h   = ones(siz)/prod(siz);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 105</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 106</span> <span style="color: #000000; background: #FFFFFF;">  case 'disk' % Disk filter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">     rad   = p2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">     crad  = ceil(rad-0.5);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 109</span> <span style="color: #A0A0A0; background: #FFFFFF;">     [x,y] = meshgrid(-crad:crad,-crad:crad);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 110</span> <span style="color: #A0A0A0; background: #FFFFFF;">     maxxy = max(abs(x),abs(y));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 111</span> <span style="color: #A0A0A0; background: #FFFFFF;">     minxy = min(abs(x),abs(y));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 112</span> <span style="color: #A0A0A0; background: #FFFFFF;">     m1 = (rad^2 &lt;  (maxxy+0.5).^2 + (minxy-0.5).^2).*(minxy-0.5) + ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 113</span> <span style="color: #A0A0A0; background: #FFFFFF;">          (rad^2 &gt;= (maxxy+0.5).^2 + (minxy-0.5).^2).* ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 114</span> <span style="color: #A0A0A0; background: #FFFFFF;">	        sqrt(rad^2 - (maxxy + 0.5).^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 115</span> <span style="color: #A0A0A0; background: #FFFFFF;">     m2 = (rad^2 &gt;  (maxxy-0.5).^2 + (minxy+0.5).^2).*(minxy+0.5) + ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 116</span> <span style="color: #A0A0A0; background: #FFFFFF;">          (rad^2 &lt;= (maxxy-0.5).^2 + (minxy+0.5).^2).* ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 117</span> <span style="color: #A0A0A0; background: #FFFFFF;">           sqrt(rad^2 - (maxxy - 0.5).^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 118</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sgrid = (rad^2*(0.5*(asin(m2/rad) - asin(m1/rad)) + ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 119</span> <span style="color: #A0A0A0; background: #FFFFFF;">             0.25*(sin(2*asin(m2/rad)) - sin(2*asin(m1/rad)))) - ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 120</span> <span style="color: #A0A0A0; background: #FFFFFF;">             (maxxy-0.5).*(m2-m1) + (m1-minxy+0.5)) ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 121</span> <span style="color: #A0A0A0; background: #FFFFFF;">	          .*((((rad^2 &lt; (maxxy+0.5).^2 + (minxy+0.5).^2) &amp; ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 122</span> <span style="color: #A0A0A0; background: #FFFFFF;">             (rad^2 &gt; (maxxy-0.5).^2 + (minxy-0.5).^2)) | ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 123</span> <span style="color: #A0A0A0; background: #FFFFFF;">	          ((minxy==0)&amp;(maxxy-0.5 &lt; rad)&amp;(maxxy+0.5&gt;=rad))));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 124</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sgrid = sgrid + ((maxxy+0.5).^2 + (minxy+0.5).^2 &lt; rad^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 125</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sgrid(crad+1,crad+1) = min(pi*rad^2,pi/2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 126</span> <span style="color: #A0A0A0; background: #FFFFFF;">     if ((crad&gt;0) &amp;&amp; (rad &gt; crad-0.5) &amp;&amp; (rad^2 &lt; (crad-0.5)^2+0.25)) </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 127</span> <span style="color: #A0A0A0; background: #FFFFFF;">        m1  = sqrt(rad^2 - (crad - 0.5).^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 128</span> <span style="color: #A0A0A0; background: #FFFFFF;">	     m1n = m1/rad;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 129</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sg0 = 2*(rad^2*(0.5*asin(m1n) + 0.25*sin(2*asin(m1n)))-m1*(crad-0.5));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 130</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(2*crad+1,crad+1) = sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 131</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(crad+1,2*crad+1) = sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 132</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(crad+1,1)        = sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 133</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(1,crad+1)        = sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 134</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(2*crad,crad+1)   = sgrid(2*crad,crad+1) - sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 135</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(crad+1,2*crad)   = sgrid(crad+1,2*crad) - sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 136</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(crad+1,2)        = sgrid(crad+1,2)      - sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 137</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sgrid(2,crad+1)        = sgrid(2,crad+1)      - sg0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 138</span> <span style="color: #A0A0A0; background: #FFFFFF;">     end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 139</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sgrid(crad+1,crad+1) = min(sgrid(crad+1,crad+1),1);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 140</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h = sgrid/sum(sgrid(:));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/1.12k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 141</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 142</span> <span style="color: #000000; background: #FFFFFF;">  case 'gaussian' % Gaussian filter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 143</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 144</span> <span style="color: #A0A0A0; background: #FFFFFF;">     siz   = (p2-1)/2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 145</span> <span style="color: #A0A0A0; background: #FFFFFF;">     std   = p3;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 146</span> <span style="color: #228B22; background: #FFFFFF;">     </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 147</span> <span style="color: #A0A0A0; background: #FFFFFF;">     [x,y] = meshgrid(-siz(2):siz(2),-siz(1):siz(1));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 148</span> <span style="color: #A0A0A0; background: #FFFFFF;">     arg   = -(x.*x + y.*y)/(2*std*std);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 149</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 150</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h     = exp(arg);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 151</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h(h&lt;eps*max(h(:))) = 0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 152</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 153</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sumh = sum(h(:));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 154</span> <span style="color: #A0A0A0; background: #FFFFFF;">     if sumh ~= 0,</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 155</span> <span style="color: #A0A0A0; background: #FFFFFF;">       h  = h/sumh;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 156</span> <span style="color: #A0A0A0; background: #FFFFFF;">     end;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/144b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 157</span> <span style="color: #228B22; background: #FFFFFF;">     </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 158</span> <span style="color: #000000; background: #FFFFFF;">  case 'laplacian' % Laplacian filter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 159</span> <span style="color: #A0A0A0; background: #FFFFFF;">     alpha = p2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 160</span> <span style="color: #A0A0A0; background: #FFFFFF;">     alpha = max(0,min(alpha,1));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 161</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h1    = alpha/(alpha+1); h2 = (1-alpha)/(alpha+1);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 162</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h     = [h1 h2 h1;h2 -4/(alpha+1) h2;h1 h2 h1];</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/32b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 163</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 164</span> <span style="color: #000000; background: #FFFFFF;">  case 'log' % Laplacian of Gaussian </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 165</span> <span style="color: #228B22; background: #FFFFFF;">     % first calculate Gaussian</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 166</span> <span style="color: #A0A0A0; background: #FFFFFF;">     siz   = (p2-1)/2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 167</span> <span style="color: #A0A0A0; background: #FFFFFF;">     std2   = p3^2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 168</span> <span style="color: #228B22; background: #FFFFFF;">     </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 169</span> <span style="color: #A0A0A0; background: #FFFFFF;">     [x,y] = meshgrid(-siz(2):siz(2),-siz(1):siz(1));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 170</span> <span style="color: #A0A0A0; background: #FFFFFF;">     arg   = -(x.*x + y.*y)/(2*std2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 171</span> <span style="color: #228B22; background: #FFFFFF;">     </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 172</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h     = exp(arg);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 173</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h(h&lt;eps*max(h(:))) = 0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 174</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 175</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sumh = sum(h(:));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 176</span> <span style="color: #A0A0A0; background: #FFFFFF;">     if sumh ~= 0,</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 177</span> <span style="color: #A0A0A0; background: #FFFFFF;">       h  = h/sumh;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 178</span> <span style="color: #A0A0A0; background: #FFFFFF;">     end;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 179</span> <span style="color: #228B22; background: #FFFFFF;">     % now calculate Laplacian     </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 180</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h1 = h.*(x.*x + y.*y - 2*std2)/(std2^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 181</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h     = h1 - sum(h1(:))/prod(p2); % make the filter sum to zero</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 182</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 183</span> <a name="Line183"></a><span style="color: #000000; background: #FFFFFF;">  case 'motion' % Motion filter uses bilinear interpolation </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 184</span> <span style="color: #A0A0A0; background: #FFFFFF;">     len = max(1,p2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 185</span> <span style="color: #A0A0A0; background: #FFFFFF;">     half = (len-1)/2;% rotate half length around center</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 186</span> <span style="color: #A0A0A0; background: #FFFFFF;">     phi = mod(p3,180)/180*pi;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 187</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 188</span> <span style="color: #A0A0A0; background: #FFFFFF;">     cosphi = cos(phi);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 189</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sinphi = sin(phi);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 190</span> <span style="color: #A0A0A0; background: #FFFFFF;">     xsign = sign(cosphi);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 191</span> <span style="color: #A0A0A0; background: #FFFFFF;">     linewdt = 1;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 192</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 193</span> <span style="color: #228B22; background: #FFFFFF;">     % define mesh for the half matrix, eps takes care of the right size</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 194</span> <span style="color: #228B22; background: #FFFFFF;">     % for 0 &amp; 90 rotation</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 195</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sx = fix(half*cosphi + linewdt*xsign - len*eps);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 196</span> <span style="color: #A0A0A0; background: #FFFFFF;">     sy = fix(half*sinphi + linewdt - len*eps);</span><br/></pre></td></tr><tr><a name="Line197"></a><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 197</span> <span style="color: #A0A0A0; background: #FFFFFF;">     [x y] = meshgrid(0:xsign:sx, 0:sy);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 198</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 199</span> <span style="color: #228B22; background: #FFFFFF;">     % define shortest distance from a pixel to the rotated line </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 200</span> <span style="color: #A0A0A0; background: #FFFFFF;">     dist2line = (y*cosphi-x*sinphi);% distance perpendicular to the line</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 201</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 202</span> <span style="color: #A0A0A0; background: #FFFFFF;">     rad = sqrt(x.^2 + y.^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 203</span> <span style="color: #228B22; background: #FFFFFF;">     % find points beyond the line's end-point but within the line width</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 204</span> <span style="color: #A0A0A0; background: #FFFFFF;">     lastpix = find((rad &gt;= half)&amp;(abs(dist2line)&lt;=linewdt));</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 205</span> <span style="color: #228B22; background: #FFFFFF;">     %distance to the line's end-point parallel to the line </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 206</span> <span style="color: #A0A0A0; background: #FFFFFF;">     x2lastpix = half - abs((x(lastpix) + dist2line(lastpix)*sinphi)/cosphi);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 207</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 208</span> <span style="color: #A0A0A0; background: #FFFFFF;">     dist2line(lastpix) = sqrt(dist2line(lastpix).^2 + x2lastpix.^2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 209</span> <span style="color: #A0A0A0; background: #FFFFFF;">     dist2line = linewdt + eps - abs(dist2line);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 210</span> <span style="color: #A0A0A0; background: #FFFFFF;">     dist2line(dist2line&lt;0) = 0;% zero out anything beyond line width</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 211</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 212</span> <span style="color: #228B22; background: #FFFFFF;">     % unfold half-matrix to the full size</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 213</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h = rot90(dist2line,2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 214</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h(end+(1:end)-1,end+(1:end)-1) = dist2line;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 215</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h = h./(sum(h(:)) + eps*len*len);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 216</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 217</span> <span style="color: #A0A0A0; background: #FFFFFF;">     if cosphi&gt;0,</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 218</span> <span style="color: #A0A0A0; background: #FFFFFF;">       h = flipud(h);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 219</span> <span style="color: #A0A0A0; background: #FFFFFF;">     end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        0b/2.25k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 220</span> <span style="color: #228B22; background: #FFFFFF;">     </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">         96b/0b/96b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 221</span> <a name="Line221"></a><span style="color: #000000; background: #FFFFFF;">  case 'prewitt' % Prewitt filter </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         96b/0b/96b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 222</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h = [1 1 1;0 0 0;-1 -1 -1];</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         96b/0b/96b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 223</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">           1k/0b/1k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 224</span> <a name="Line224"></a><span style="color: #000000; background: #FFFFFF;">  case 'sobel' % Sobel filter </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 225</span> <a name="Line225"></a><span style="color: #000000; background: #FFFFFF;">     h = [1 2 1;0 0 0;-1 -2 -1]; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 226</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 227</span> <span style="color: #A0A0A0; background: #FFFFFF;">  case 'unsharp' % Unsharp filter</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 228</span> <span style="color: #A0A0A0; background: #FFFFFF;">     alpha = p2;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 229</span> <span style="color: #A0A0A0; background: #FFFFFF;">     h     = [0 0 0;0 1 0;0 0 0] - fspecial('laplacian',alpha);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 230</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         80b/0b/80b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 231</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></td></tr></table><p><p>Other subfunctions in this file are not included in this listing.</body></html>