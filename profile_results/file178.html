<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for choose_orientations</title><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">choose_orientations (10 calls, 23.756 sec, 265839.88 Kb, 265012.31 Kb, 10368.58 Kb)</span><br/><i>Generated 03-Apr-2014 11:11:31 using cpu time.</i><br/>function in file /Users/juan/Documents/janelia/cbtrack_GUI/choose_orientations.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file40.html">TrackTwoFlies_GUI_debug2</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">10</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line70">70</a></td><td class="td-linebottomrt"><pre>costcurr = (1-w(t))*angledist(...</pre></td><td class="td-linebottomrt">399960</td><td class="td-linebottomrt">12.667 s</td><td class="td-linebottomrt">154810.36 Kb</td><td class="td-linebottomrt">169060.66 Kb</td><td class="td-linebottomrt">10368.58 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">53.3%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=53 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line77">77</a></td><td class="td-linebottomrt"><pre>sprev = argmin(tmpcost);</pre></td><td class="td-linebottomrt">199980</td><td class="td-linebottomrt">2.539 s</td><td class="td-linebottomrt">40715.16 Kb</td><td class="td-linebottomrt">22181.30 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">10.7%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=11 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line67">67</a></td><td class="td-linebottomrt"><pre>for sprev = 1:2,</pre></td><td class="td-linebottomrt">199980</td><td class="td-linebottomrt">1.217 s</td><td class="td-linebottomrt">35998.38 Kb</td><td class="td-linebottomrt">134.95 Kb</td><td class="td-linebottomrt">16.27 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">5.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=5 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line74">74</a></td><td class="td-linebottomrt"><pre>end</pre></td><td class="td-linebottomrt">399960</td><td class="td-linebottomrt">1.206 s</td><td class="td-linebottomrt">119.39 Kb</td><td class="td-linebottomrt">40561.08 Kb</td><td class="td-linebottomrt">16.02 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">5.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=5 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line72">72</a></td><td class="td-linebottomrt"><pre>tmpcost(sprev) = costprev(spre...</pre></td><td class="td-linebottomrt">399960</td><td class="td-linebottomrt">1.050 s</td><td class="td-linebottomrt">10474.36 Kb</td><td class="td-linebottomrt">223.02 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">4.4%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">5.078 s</td><td class="td-linebottomrt">23722.23 Kb</td><td class="td-linebottomrt">32851.31 Kb</td><td class="td-linebottomrt">10368.58 Kb</td><td class="td-linebottomrt">21.4%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=21 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">23.756 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">265839.88 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">265012.31 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">10368.58 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file196.html">angledist</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">799920</td><td class="td-linebottomrt">8.884 s</td><td class="td-linebottomrt">133742.75 Kb</td><td class="td-linebottomrt">102215.12 Kb</td><td class="td-linebottomrt">10368.58 Kb</td><td class="td-linebottomrt">37.4%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=37 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file197.html">argmin</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">199990</td><td class="td-linebottomrt">1.261 s</td><td class="td-linebottomrt">9494.70 Kb</td><td class="td-linebottomrt">174.19 Kb</td><td class="td-linebottomrt">16.00 Kb</td><td class="td-linebottomrt">5.3%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=5 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file179.html">modrange</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">27173</td><td class="td-linebottomrt">0.289 s</td><td class="td-linebottomrt">1700.70 Kb</td><td class="td-linebottomrt">855.94 Kb</td><td class="td-linebottomrt">1.34 Kb</td><td class="td-linebottomrt">1.2%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">13.323 s</td><td class="td-linebottomrt">120901.72 Kb</td><td class="td-linebottomrt">161767.06 Kb</td><td class="td-linebottomrt">10368.58 Kb</td><td class="td-linebottomrt">56.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=56 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">23.756 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">265839.88 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">265012.31 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">10368.58 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/>No Code Analyzer messages.<div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">85</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">43</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">42</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">40</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">2</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">95.24 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><table border = "0" cellpadding = "1" cellspacing = "5"><style> td,th { text-align:center; } .leftAligned{ text-align:left; }</style><tr><th><span style="color: #FF0000; font-weight: bold; text-decoration: none">time</span> </th><th><span style="color: #0000FF; font-weight: bold; text-decoration: none">calls</span> </th><th><span style="color: #20AF20; font-weight: bold; text-decoration: none">mem</span> </th><th class="leftAligned"><span style="font-weight: bold; text-decoration: none">  line</span></th></tr><tr><td></td><td></td><td> (10 calls, 23.756 sec, 265839.88 Kb, 265012.31 Kb, 10368.58 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  23</span> <span style="color: #A0A0A0; background: #FFFFFF;">function theta = choose_orientations(x,y,theta,velocity_angle_weight,max_velocity_angle_weight)</span><br/></pre></td></tr><tr><td></td><td></td><td> (10 calls, 23.756 sec, 265839.88 Kb, 265012.31 Kb, 10368.58 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">         0b/170k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  25</span> <span style="color: #000000; background: #FFFFFF;">if ~exist('max_velocity_angle_weight','var'), </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/170k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  26</span> <span style="color: #A0A0A0; background: #FFFFFF;">  max_velocity_angle_weight = 1;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/170k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  27</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">         0b/170k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  29</span> <span style="color: #000000; background: #FFFFFF;">inputsz = size(x); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  30</span> <span style="color: #000000; background: #FFFFFF;">x = x(:); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  31</span> <span style="color: #000000; background: #FFFFFF;">y = y(:); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  32</span> <span style="color: #000000; background: #FFFFFF;">theta = theta(:); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">% number of frames</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  35</span> <span style="color: #000000; background: #FFFFFF;">N = length(x); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        592b/0b/64b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">% allocate space for storing the optimal path</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">      1.56m/0b/160k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  38</span> <span style="color: #000000; background: #FFFFFF;">stateprev = zeros(N-1,2); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      1.56m/0b/160k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      1.56m/0b/160k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">% allocate space for computing costs</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  41</span> <span style="color: #000000; background: #FFFFFF;">tmpcost = zeros(2,1); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  42</span> <span style="color: #000000; background: #FFFFFF;">costprevnew = zeros(2,1); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">% initialize first frame</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  45</span> <span style="color: #000000; background: #FFFFFF;">costprev = zeros(2,1); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">        480b/0b/48b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">% compute velocity</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">      1.52m/0b/157k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  48</span> <span style="color: #000000; background: #FFFFFF;">vx = [0;diff(x)]; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">      785k/0b/78.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  49</span> <span style="color: #000000; background: #FFFFFF;">vy = [0;diff(y)]; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20"> 1.01e+03b/48b/240b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  50</span> <span style="color: #000000; background: #FFFFFF;">v = sqrt(vx.^2+vy.^2); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20"> 1.01e+03b/48b/240b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20"> 1.01e+03b/48b/240b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">% compute angle of velocity</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.02 </span></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">      624k/0b/78.6k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  53</span> <span style="color: #000000; background: #FFFFFF;">velocityangle = atan2(vy,vx); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      624k/0b/78.6k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      624k/0b/78.6k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">% compute weight for velocity term</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">      1.39m/0b/157k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  56</span> <span style="color: #000000; background: #FFFFFF;">w = min(max_velocity_angle_weight,velocity_angle_weight.*v); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      1.39m/0b/157k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      1.39m/0b/157k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">% compute iteratively</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">       272b/0b/272b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  59</span> <span style="color: #000000; background: #FFFFFF;">for t = 2:N, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       272b/0b/272b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">       272b/0b/272b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">  % compute for both possible states</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.18 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">  26.8k/34.9k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  62</span> <span style="color: #000000; background: #FFFFFF;">  for scurr = 1:2, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  26.8k/34.9k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  26.8k/34.9k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">    % try both previous states</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.34 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">      55.8k/43k/16k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  65</span> <span style="color: #000000; background: #FFFFFF;">    thetacurr = theta(t) + (scurr-1)*pi; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      55.8k/43k/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.22 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">   35.2m/135k/16.3k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  67</span> <a name="Line67"></a><span style="color: #000000; background: #FFFFFF;">    for sprev = 1:2, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   35.2m/135k/16.3k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.62 </span></td><td><span style="color: #0000FF"> 399960 </span></td><td><span style="color: #20AF20">  67.4k/83.2k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  69</span> <span style="color: #000000; background: #FFFFFF;">      thetaprev = theta(t-1) + (sprev-1)*pi; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 12.67 </span></td><td><span style="color: #0000FF"> 399960 </span></td><td><span style="color: #20AF20">    151m/165m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  70</span> <a name="Line70"></a><span style="color: #000000; background: #FF8080;">      costcurr = (1-w(t))*<a href="file196.html">angledist</a>(thetaprev,thetacurr) + ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    151m/165m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  71</span> <span style="color: #000000; background: #FF8080;">        w(t)*angledist(thetacurr,velocityangle(t));</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.05 </span></td><td><span style="color: #0000FF"> 399960 </span></td><td><span style="color: #20AF20">   10.2m/223k/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  72</span> <a name="Line72"></a><span style="color: #000000; background: #FFFFFF;">      tmpcost(sprev) = costprev(sprev) + costcurr; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   10.2m/223k/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.21 </span></td><td><span style="color: #0000FF"> 399960 </span></td><td><span style="color: #20AF20">     119k/39.6m/16k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  74</span> <a name="Line74"></a><span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     119k/39.6m/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     119k/39.6m/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">    % choose the minimum</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.54 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">  39.8m/21.7m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  77</span> <a name="Line77"></a><span style="color: #000000; background: #FFE2E2;">    sprev = <a href="file197.html">argmin</a>(tmpcost); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  39.8m/21.7m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  39.8m/21.7m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;">    % set pointer for path</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.65 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">    96.2k/73.9k/16k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  80</span> <span style="color: #000000; background: #FFFFFF;">    stateprev(t-1,scurr) = sprev; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    96.2k/73.9k/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    96.2k/73.9k/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">    % set cost</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.89 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">    4.65m/10.2m/16k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #000000; background: #FFFFFF;">    costprevnew(scurr) = tmpcost(sprev); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    4.65m/10.2m/16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.60 </span></td><td><span style="color: #0000FF"> 199980 </span></td><td><span style="color: #20AF20">  10.2m/4.61m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  85</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  10.2m/4.61m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  86</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  10.2m/4.61m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  87</span> <span style="color: #228B22; background: #FFFFFF;">  % copy over</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.36 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">   13.6k/10.7m/1.3k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  88</span> <span style="color: #000000; background: #FFFFFF;">  costprev(:) = costprevnew(:); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   13.6k/10.7m/1.3k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  89</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.25 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">  35.5k/29.2k/6.03k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  90</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  35.5k/29.2k/6.03k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  91</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  35.5k/29.2k/6.03k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  92</span> <span style="color: #228B22; background: #FFFFFF;">% choose the best last state</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">    944b/1.45k/112b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  93</span> <span style="color: #000000; background: #FFFFFF;">scurr = <a href="file197.html">argmin</a>(costprev); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    944b/1.45k/112b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">    944b/1.45k/112b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  95</span> <span style="color: #000000; background: #FFFFFF;">if scurr == 2, </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      4 </span></td><td><span style="color: #20AF20">    232k/160b/78.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  96</span> <span style="color: #000000; background: #FFFFFF;">  theta(end) = <a href="file179.html">modrange</a>(theta(end)+pi,-pi,pi); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      4 </span></td><td><span style="color: #20AF20">          0b/10k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  97</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/10k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  98</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">          0b/10k/0b </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;">% choose the best states</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">          0b/10k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 100</span> <span style="color: #000000; background: #FFFFFF;">for t = N-1:-1:1, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.23 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">  43.4k/46.2k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 101</span> <span style="color: #000000; background: #FFFFFF;">  scurr = stateprev(t,scurr); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.22 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">  41.6k/36.4k/1.44k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 102</span> <span style="color: #000000; background: #FFFFFF;">  if scurr == 2, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.44 </span></td><td><span style="color: #0000FF">  27169 </span></td><td><span style="color: #20AF20">  1.82m/1.67m/78.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 103</span> <span style="color: #000000; background: #FFFFFF;">    theta(t) = <a href="file179.html">modrange</a>(theta(t)+pi,-pi,pi); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.08 </span></td><td><span style="color: #0000FF">  27169 </span></td><td><span style="color: #20AF20">       160b/96b/64b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 104</span> <span style="color: #000000; background: #FFFFFF;">  end   </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.18 </span></td><td><span style="color: #0000FF">  99990 </span></td><td><span style="color: #20AF20">  34.9k/32.2k/4.16k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 105</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  34.9k/32.2k/4.16k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 106</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     10 </span></td><td><span style="color: #20AF20">         0b/720b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 107</span> <span style="color: #000000; background: #FFFFFF;">theta = reshape(theta,inputsz); </span><br/></pre></td></tr></table></body></html>