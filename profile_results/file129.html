<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for TrackTwoFliesOneFrameOneROI_GUI</title><link rel="stylesheet" href="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">TrackTwoFliesOneFrameOneROI_GUI (160000 calls, 1912.394 sec, 9235246.47 Kb, 18063572.66 Kb, 10368.09 Kb)</span><br/><i>Generated 03-Apr-2014 11:11:19 using cpu time.</i><br/>function in file /Users/juan/Documents/janelia/cbtrack_GUI/TrackTwoFliesOneFrameOneROI_GUI.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file180.html">TrackTwoFliesOneFrame_GUI</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">160000</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line71">71</a></td><td class="td-linebottomrt"><pre>[trxcurr.a(i),trxcurr.b(i),trx...</pre></td><td class="td-linebottomrt">231438</td><td class="td-linebottomrt">602.130 s</td><td class="td-linebottomrt">1233493.58 Kb</td><td class="td-linebottomrt">1769529.92 Kb</td><td class="td-linebottomrt">2832.55 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">31.5%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=31 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line96">96</a></td><td class="td-linebottomrt"><pre>[mu,S,trxpriors,post,nll,mixpr...</pre></td><td class="td-linebottomrt">44279</td><td class="td-linebottomrt">454.364 s</td><td class="td-linebottomrt">4475646.80 Kb</td><td class="td-linebottomrt">5105871.69 Kb</td><td class="td-linebottomrt">1998.50 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">23.8%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=24 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line130">130</a></td><td class="td-linebottomrt"><pre>[trxcurr.a(i),trxcurr.b(i),trx...</pre></td><td class="td-linebottomrt">88562</td><td class="td-linebottomrt">259.786 s</td><td class="td-linebottomrt">565187.09 Kb</td><td class="td-linebottomrt">419690.91 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">13.6%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=14 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line12">12</a></td><td class="td-linebottomrt"><pre>cc = bwconncomp(isforebb);</pre></td><td class="td-linebottomrt">160000</td><td class="td-linebottomrt">174.939 s</td><td class="td-linebottomrt">910286.22 Kb</td><td class="td-linebottomrt">2584680.00 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">9.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=9 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line70">70</a></td><td class="td-linebottomrt"><pre>[mu,S] = weighted_mean_cov([x(...</pre></td><td class="td-linebottomrt">231438</td><td class="td-linebottomrt">75.680 s</td><td class="td-linebottomrt">445279.12 Kb</td><td class="td-linebottomrt">5673117.09 Kb</td><td class="td-linebottomrt">1404.00 Kb</td><td class="td-linebottomrt" class="td-linebottomrt">4.0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=4 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">345.494 s</td><td class="td-linebottomrt">1605353.66 Kb</td><td class="td-linebottomrt">2510683.05 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt">18.1%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=18 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1912.394 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">9235246.47 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">18063572.66 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">10368.09 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Allocated Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Freed Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Peak Memory</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file134.html">cov2ell</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">320000</td><td class="td-linebottomrt">841.655 s</td><td class="td-linebottomrt">1773543.91 Kb</td><td class="td-linebottomrt">2145733.45 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt">44.0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=44 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file67.html">mygmm</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">44304</td><td class="td-linebottomrt">466.926 s</td><td class="td-linebottomrt">4655094.80 Kb</td><td class="td-linebottomrt">5396809.55 Kb</td><td class="td-linebottomrt">10368.09 Kb</td><td class="td-linebottomrt">24.4%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=24 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file123.html">bwconncomp</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">160001</td><td class="td-linebottomrt">171.217 s</td><td class="td-linebottomrt">904510.92 Kb</td><td class="td-linebottomrt">2577942.50 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt">9.0%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=9 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file133.html">weighted_mean_cov</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">231438</td><td class="td-linebottomrt">61.091 s</td><td class="td-linebottomrt">97252.80 Kb</td><td class="td-linebottomrt">5657998.41 Kb</td><td class="td-linebottomrt">1404.00 Kb</td><td class="td-linebottomrt">3.2%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file132.html">ind2sub</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">275719</td><td class="td-linebottomrt">35.773 s</td><td class="td-linebottomrt">513718.58 Kb</td><td class="td-linebottomrt">116032.39 Kb</td><td class="td-linebottomrt">10367.92 Kb</td><td class="td-linebottomrt">1.9%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file137.html">axes2cov</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">160000</td><td class="td-linebottomrt">25.501 s</td><td class="td-linebottomrt">83754.59 Kb</td><td class="td-linebottomrt">60502.80 Kb</td><td class="td-linebottomrt">1182.50 Kb</td><td class="td-linebottomrt">1.3%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file179.html">modrange</a></td><td class="td-linebottomrt">function</td><td class="td-linebottomrt">479952</td><td class="td-linebottomrt">17.267 s</td><td class="td-linebottomrt">43309.53 Kb</td><td class="td-linebottomrt">34134.00 Kb</td><td class="td-linebottomrt">10368.00 Kb</td><td class="td-linebottomrt">0.9%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">292.965 s</td><td class="td-linebottomrt">1164061.34 Kb</td><td class="td-linebottomrt">2074419.56 Kb</td><td class="td-linebottomrt">10368.09 Kb</td><td class="td-linebottomrt">15.3%</td><td class="td-linebottomrt"><img src="file:////Applications/MATLAB_R2013b.app/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">1912.394 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">9235246.47 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">18063572.66 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">10368.09 Kb</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>Code Analyzer results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line90">90</a></td><td class="td-linebottomrt"><span class="mono">The value assigned here to 'nll' appears to be unused. Consider replacing it by ~.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line90">90</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'mixprev' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line96">96</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'mixprev' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line120">120</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'nll' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line121">121</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'mixprev' might be unused.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>Show coverage for parent directory <br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">197</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">68</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">129</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">106</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">23</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">82.17 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><table border = "0" cellpadding = "1" cellspacing = "5"><style> td,th { text-align:center; } .leftAligned{ text-align:left; }</style><tr><th><span style="color: #FF0000; font-weight: bold; text-decoration: none">time</span> </th><th><span style="color: #0000FF; font-weight: bold; text-decoration: none">calls</span> </th><th><span style="color: #20AF20; font-weight: bold; text-decoration: none">mem</span> </th><th class="leftAligned"><span style="font-weight: bold; text-decoration: none">  line</span></th></tr><tr><td></td><td></td><td> (160000 calls, 1912.394 sec, 9235246.47 Kb, 18063572.66 Kb, 10368.09 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [trxcurr,pred] = ...</span><br/></pre></td></tr><tr><td></td><td></td><td> (160000 calls, 1912.394 sec, 9235246.47 Kb, 18063572.66 Kb, 10368.09 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   2</span> <span style="color: #A0A0A0; background: #FFFFFF;">  TrackTwoFliesOneFrameOneROI_GUI(isforebb,dbkgdbb,pred,trxprev,nflies_per_roi,params)</span><br/></pre></td></tr><tr><td></td><td></td><td> (160000 calls, 1912.394 sec, 9235246.47 Kb, 18063572.66 Kb, 10368.09 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td> (160000 calls, 1912.394 sec, 9235246.47 Kb, 18063572.66 Kb, 10368.09 Kb)</span><br/></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">% initialize</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.82 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    7.18m/4.66m/64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">   5</span> <span style="color: #000000; background: #FFFFFF;">trxcurr = trxprev; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.45 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">      6m/2.01m/260k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">   6</span> <span style="color: #000000; background: #FFFFFF;">trxcurr.gmm_isbadprior = 0; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.14 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    1.14m/1.66m/64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">   7</span> <span style="color: #000000; background: #FFFFFF;">trxcurr.istouching = 0; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.74 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   32.6m/2.49m/308k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">   8</span> <span style="color: #000000; background: #FFFFFF;">trxpriors = zeros(1,2); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   32.6m/2.49m/308k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   32.6m/2.49m/308k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%% fit connected components</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   32.6m/2.49m/308k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 174.94 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   889m/2.46g/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  12</span> <a name="Line12"></a><span style="color: #000000; background: #FFE2E2;">cc = <a href="file123.html">bwconncomp</a>(isforebb); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   889m/2.46g/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 13.02 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  23.4m/10.9m/1.11m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  14</span> <span style="color: #000000; background: #FFFFFF;">cc.Area = cellfun(@numel,cc.PixelIdxList); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.46 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   9.26m/2.91m/156k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  15</span> <span style="color: #000000; background: #FFFFFF;">isbigenough = cc.Area &gt;= params.minccarea; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.16 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    10.9m/3.9m/1.2m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  16</span> <span style="color: #000000; background: #FFFFFF;">ncc_bigenough = nnz(isbigenough); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    10.9m/3.9m/1.2m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    10.9m/3.9m/1.2m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%% only one fly</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    10.9m/3.9m/1.2m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.53 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  20</span> <span style="color: #000000; background: #FFFFFF;">if nflies_per_roi == 1, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">  % store in position 1</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  23</span> <span style="color: #A0A0A0; background: #FFFFFF;">  i = 1;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  24</span> <span style="color: #A0A0A0; background: #FFFFFF;">  if ncc_bigenough == 1,</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">    % use this connected component</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  26</span> <span style="color: #A0A0A0; background: #FFFFFF;">    j = find(cc.Area &gt;= params.minccarea);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  27</span> <span style="color: #A0A0A0; background: #FFFFFF;">    idx = cc.PixelIdxList{j};</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">  else</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  29</span> <span style="color: #A0A0A0; background: #FFFFFF;">    idx = cat(1,cc.PixelIdxList{:});</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  30</span> <span style="color: #A0A0A0; background: #FFFFFF;">  end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  31</span> <span style="color: #A0A0A0; background: #FFFFFF;">  [y,x] = ind2sub(size(isforebb),idx);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  32</span> <span style="color: #A0A0A0; background: #FFFFFF;">  w = dbkgdbb(idx);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  33</span> <span style="color: #A0A0A0; background: #FFFFFF;">  [mu,S] = weighted_mean_cov([x(:),y(:)],w);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  34</span> <span style="color: #A0A0A0; background: #FFFFFF;">  [trxcurr.a(i),trxcurr.b(i),trxcurr.theta(i)] = cov2ell(S);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  35</span> <span style="color: #A0A0A0; background: #FFFFFF;">  trxcurr.x(i) = mu(1);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  36</span> <span style="color: #A0A0A0; background: #FFFFFF;">  trxcurr.y(i) = mu(2);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  37</span> <span style="color: #A0A0A0; background: #FFFFFF;">  trxcurr.area(i) = numel(cc.PixelIdxList{j});</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  38</span> <span style="color: #A0A0A0; background: #FFFFFF;">  trxpriors(i) = 1;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  40</span> <span style="color: #A0A0A0; background: #FFFFFF;">  trxcurr.istouching = 0;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  41</span> <span style="color: #A0A0A0; background: #FFFFFF;">  order = [1,2];    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     935k/1.51m/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.83 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  43</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">  %% two flies</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">  % fit ellipses</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    762k/1.01m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.52 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  2.25m/7.18m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  49</span> <span style="color: #000000; background: #FFFFFF;">  if cc.NumObjects &gt; 2 &amp;&amp; ncc_bigenough &lt; 2 &amp;&amp; params.bgthresh_low &lt; params.bgthresh, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  2.25m/7.18m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  2.25m/7.18m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">    % try to connect split apart connected components</span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">     48.8k/0b/48.8k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  52</span> <span style="color: #000000; background: #FFFFFF;">    isforebb_low = dbkgdbb &gt;= params.bgthresh_low; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  53</span> <span style="color: #000000; background: #FFFFFF;">    cc_low = <a href="file123.html">bwconncomp</a>(isforebb_low); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  54</span> <span style="color: #000000; background: #FFFFFF;">    if cc.NumObjects == 2 || cc.NumObjects == 1, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  55</span> <span style="color: #A0A0A0; background: #FFFFFF;">      cc = cc_low;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  56</span> <span style="color: #A0A0A0; background: #FFFFFF;">      cc.Area = cellfun(@numel,cc.PixelIdxList);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  57</span> <span style="color: #A0A0A0; background: #FFFFFF;">      isbigenough = cc.Area &gt;= params.minccarea;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  58</span> <span style="color: #A0A0A0; background: #FFFFFF;">      ncc_bigenough = nnz(isbigenough);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  59</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      1 </span></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  61</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    6.3k/3.94k/1.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">  % separate connected components</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.46 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    1.08m/1.3m/104k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  64</span> <span style="color: #000000; background: #FFFFFF;">  if ncc_bigenough == 2, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.97 </span></td><td><span style="color: #0000FF"> 115719 </span></td><td><span style="color: #20AF20">    8.08m/1.7m/196k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  65</span> <span style="color: #000000; background: #FFFFFF;">    ccidx = find(isbigenough); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.38 </span></td><td><span style="color: #0000FF"> 115719 </span></td><td><span style="color: #20AF20">  18.8m/1.88m/69.2k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  66</span> <span style="color: #000000; background: #FFFFFF;">    for i = 1:2, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.22 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">      646k/786k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  67</span> <span style="color: #000000; background: #FFFFFF;">      j = ccidx(i); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 41.27 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">     364m/236m/657k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  68</span> <span style="color: #000000; background: #FFFFFF;">      [y,x] = <a href="file132.html">ind2sub</a>(size(isforebb),cc.PixelIdxList{j}); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.66 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">  83.4m/12.7m/93.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  69</span> <span style="color: #000000; background: #FFFFFF;">      w = dbkgdbb(cc.PixelIdxList{j}); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 75.68 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">   435m/5.41g/1.37m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  70</span> <a name="Line70"></a><span style="color: #000000; background: #FFF0F0;">      [mu,S] = <a href="file133.html">weighted_mean_cov</a>([x(:),y(:)],w); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 602.13 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">  1.18g/1.69g/2.77m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  71</span> <a name="Line71"></a><span style="color: #000000; background: #FF8080;">      [trxcurr.a(i),trxcurr.b(i),trxcurr.theta(i)] = <a href="file134.html">cov2ell</a>(S); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.12 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">    6.49m/1.17m/44k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  72</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.x(i) = mu(1); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.55 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">     6.21m/926k/61k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  73</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.y(i) = mu(2); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.87 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">    9.4m/2.63m/132k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  74</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.area(i) = numel(cc.PixelIdxList{j}); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  5.71 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">    8.1m/3.14m/260k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  75</span> <span style="color: #000000; background: #FFFFFF;">      trxpriors(i) = sum(w); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.68 </span></td><td><span style="color: #0000FF"> 231438 </span></td><td><span style="color: #20AF20">   1.89m/7.08m/408k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  76</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  5.46 </span></td><td><span style="color: #0000FF"> 115719 </span></td><td><span style="color: #20AF20">  3.54m/10.8m/1.17m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  77</span> <span style="color: #000000; background: #FFFFFF;">    trxpriors = trxpriors / sum(trxpriors); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.15 </span></td><td><span style="color: #0000FF"> 115719 </span></td><td><span style="color: #20AF20">     809k/814k/118k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  78</span> <span style="color: #000000; background: #FFFFFF;">    trxcurr.istouching = 0; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     809k/814k/118k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.98 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">1.02e+03k/1.51m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  80</span> <span style="color: #000000; background: #FFFFFF;">  elseif cc.NumObjects == 0, </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">1.02e+03k/1.51m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  81</span> <span style="color: #A0A0A0; background: #FFFFFF;">    warning('No flies detected in ROI');</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">1.02e+03k/1.51m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.27 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">     298k/372k/5.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #228B22; background: #FFFFFF;">  else </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     298k/372k/5.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     298k/372k/5.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;">    % GMM clustering of all foreground pixels</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.21 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">    9.3m/1.7m/78.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  86</span> <span style="color: #000000; background: #FFFFFF;">    idx = cat(1,cc.PixelIdxList{:}); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  9.24 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">   151m/31.9m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  87</span> <span style="color: #000000; background: #FFFFFF;">    [y,x] = <a href="file132.html">ind2sub</a>(size(isforebb),idx); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.76 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">   114m/87.5m/35.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  88</span> <span style="color: #000000; background: #FFFFFF;">    w = dbkgdbb(idx); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.44 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">       458k/543k/8k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  89</span> <span style="color: #000000; background: #FFFFFF;">    if pred.isfirstframe, </span><br/></pre></td></tr><tr><a name="Line90"></a><td><span style="color: #FF0000">  0.74 </span></td><td><span style="color: #0000FF">      2 </span></td><td><span style="color: #20AF20">    7.76m/7.43m/98k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  90</span> <span style="color: #000000; background: #FFFFFF;">      [mu,S,trxpriors,post,nll,mixprev] = <a href="file67.html">mygmm</a>([x,y],2,... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    7.76m/7.43m/98k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  91</span> <span style="color: #000000; background: #FFFFFF;">        'Replicates',params.gmmem_nrestarts_firstframe,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    7.76m/7.43m/98k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  92</span> <span style="color: #000000; background: #FFFFFF;">        'precision',params.gmmem_precision,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    7.76m/7.43m/98k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  93</span> <span style="color: #000000; background: #FFFFFF;">        'MaxIters',params.gmmem_maxiters,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    7.76m/7.43m/98k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  94</span> <span style="color: #000000; background: #FFFFFF;">        'weights',w);</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.28 </span></td><td><span style="color: #0000FF">  44279 </span></td><td><span style="color: #20AF20">       285k/412k/8k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  95</span> <span style="color: #228B22; background: #FFFFFF;">    else </span><br/></pre></td></tr><tr><a name="Line96"></a><td><span style="color: #FF0000"> 454.36 </span></td><td><span style="color: #0000FF">  44279 </span></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold">  96</span> <a name="Line96"></a><span style="color: #000000; background: #FF9C9C;">      [mu,S,trxpriors,post,nll,mixprev] = <a href="file67.html">mygmm</a>([x,y],2,... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  97</span> <span style="color: #000000; background: #FF9C9C;">        'Start',pred.mix,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  98</span> <span style="color: #000000; background: #FF9C9C;">        'precision',params.gmmem_precision,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0">  99</span> <span style="color: #000000; background: #FF9C9C;">        'MaxIters',params.gmmem_maxiters,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 100</span> <span style="color: #000000; background: #FF9C9C;">        'weights',w);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 101</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  4.27g/4.87g/1.95m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 102</span> <span style="color: #228B22; background: #FFFFFF;">      % check that all went well</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.61 </span></td><td><span style="color: #0000FF">  44279 </span></td><td><span style="color: #20AF20">   1.49m/1.52m/132k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 103</span> <span style="color: #000000; background: #FFFFFF;">      if any(trxpriors &lt;= params.gmmem_min_obsprior), </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   1.49m/1.52m/132k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 104</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">     23 </span></td><td><span style="color: #20AF20">    80.2k/45k/5.09k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 105</span> <span style="color: #000000; background: #FFFFFF;">        fprintf('Bad prior found, trying to reinitialize\n'); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">&lt; 0.01 </span></td><td><span style="color: #0000FF">     23 </span></td><td><span style="color: #20AF20">    2.59k/48b/1.45k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 106</span> <span style="color: #000000; background: #FFFFFF;">        trxcurr.gmm_isbadprior = true; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    2.59k/48b/1.45k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 107</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 14.47 </span></td><td><span style="color: #0000FF">     23 </span></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 108</span> <span style="color: #000000; background: #FFFFFF;">        [mu1,S1,obspriors1,post1,nll1,mixprev1] = <a href="file67.html">mygmm</a>([x,y],2,... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 109</span> <span style="color: #000000; background: #FFFFFF;">          'Replicates',params.gmmem_nrestarts_firstframe,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 110</span> <span style="color: #000000; background: #FFFFFF;">          'precision',params.gmmem_precision,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 111</span> <span style="color: #000000; background: #FFFFFF;">          'MaxIters',params.gmmem_maxiters,...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 112</span> <span style="color: #000000; background: #FFFFFF;">          'weights',w);</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 113</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     23 </span></td><td><span style="color: #20AF20">    280m/282m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 114</span> <span style="color: #000000; background: #FFFFFF;">        if nll1 &lt;= nll, </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">     40.8k/0b/10.3k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 115</span> <span style="color: #000000; background: #FFFFFF;">          fprintf('Using results from reinitialization, which improve nll by %f\n',nll-nll1); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">     40.8k/0b/10.3k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 116</span> <span style="color: #000000; background: #FFFFFF;">          mu = mu1; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">         0b/176b/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 117</span> <span style="color: #000000; background: #FFFFFF;">          S = S1; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">        144b/0b/32b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 118</span> <span style="color: #000000; background: #FFFFFF;">          trxpriors = obspriors1(:)'; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">        0b/23.5k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 119</span> <span style="color: #000000; background: #FFFFFF;">          post = post1; </span><br/></pre></td></tr><tr><a name="Line120"></a><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">        0b/4.56k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 120</span> <span style="color: #000000; background: #FFFFFF;">          nll = nll1; </span><br/></pre></td></tr><tr><a name="Line121"></a><td></td><td><span style="color: #0000FF">      8 </span></td><td><span style="color: #20AF20">        0b/2.31k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 121</span> <span style="color: #000000; background: #FFFFFF;">          mixprev = mixprev1; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     15 </span></td><td><span style="color: #20AF20">        0b/2.31k/0b </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 122</span> <span style="color: #228B22; background: #FFFFFF;">        else </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     15 </span></td><td><span style="color: #20AF20">     61.9k/0b/4.52k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 123</span> <span style="color: #000000; background: #FFFFFF;">          fprintf('Reinitialization does not improve nll.\n'); </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     15 </span></td><td><span style="color: #20AF20">     61.9k/0b/4.52k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 124</span> <span style="color: #000000; background: #FFFFFF;">        end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">     61.9k/0b/4.52k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 125</span> <span style="color: #228B22; background: #FFFFFF;">       </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     23 </span></td><td><span style="color: #20AF20">     61.9k/0b/4.52k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 126</span> <span style="color: #000000; background: #FFFFFF;">      end </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.33 </span></td><td><span style="color: #0000FF">  44279 </span></td><td><span style="color: #20AF20">    369k/290k/68.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 127</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    369k/290k/68.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 128</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.01 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">   8.17m/847k/66.7k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 129</span> <span style="color: #000000; background: #FFFFFF;">    for i = 1:2, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 259.79 </span></td><td><span style="color: #0000FF">  88562 </span></td><td><span style="color: #20AF20">    552m/410m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 130</span> <a name="Line130"></a><span style="color: #000000; background: #FFC6C6;">      [trxcurr.a(i),trxcurr.b(i),trxcurr.theta(i)] = <a href="file134.html">cov2ell</a>(S(:,:,i)); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.81 </span></td><td><span style="color: #0000FF">  88562 </span></td><td><span style="color: #20AF20">     2.83m/854k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 131</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.x(i) = mu(i,1); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.61 </span></td><td><span style="color: #0000FF">  88562 </span></td><td><span style="color: #20AF20">   2.65m/754k/4.95k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 132</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.y(i) = mu(i,2); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.58 </span></td><td><span style="color: #0000FF">  88562 </span></td><td><span style="color: #20AF20">   1.21m/437m/76.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 133</span> <span style="color: #000000; background: #FFFFFF;">      trxcurr.area(i) = sum(post(:,i)); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.53 </span></td><td><span style="color: #0000FF">  88562 </span></td><td><span style="color: #20AF20">  10.7m/2.96m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 134</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.22 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">    1.75m/1.63m/64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 135</span> <span style="color: #000000; background: #FFFFFF;">    trxcurr.istouching = true; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    1.75m/1.63m/64k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 136</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.46 </span></td><td><span style="color: #0000FF">  44281 </span></td><td><span style="color: #20AF20">    476k/520k/64.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 137</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    476k/520k/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 138</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    476k/520k/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 139</span> <span style="color: #228B22; background: #FFFFFF;">  % match</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    476k/520k/64.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 140</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.45 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  1.11m/2.27m/46.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 141</span> <span style="color: #000000; background: #FFFFFF;">  order = 1:2; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  4.00 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    2.38m/4.43m/65k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 142</span> <span style="color: #000000; background: #FFFFFF;">  if ~pred.isfirstframe,       </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    2.38m/4.43m/65k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 143</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  4.16 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">  3.43m/2.71m/1.19m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 144</span> <span style="color: #000000; background: #FFFFFF;">    besterr = inf; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.88 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">    677k/792k/7.59k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 145</span> <span style="color: #000000; background: #FFFFFF;">    for i = 1:2, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.18 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">  1.06m/1.46m/32.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 146</span> <span style="color: #000000; background: #FFFFFF;">      if i == 1, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.99 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20"> 740k/1.01e+03k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 147</span> <span style="color: #000000; background: #FFFFFF;">        ordercurr = [1,2]; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.56 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">      482k/611k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 148</span> <span style="color: #228B22; background: #FFFFFF;">      else </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.06 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">    766k/773k/44.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 149</span> <span style="color: #000000; background: #FFFFFF;">        ordercurr = [2,1]; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.66 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">      526k/642k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 150</span> <span style="color: #000000; background: #FFFFFF;">      end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      526k/642k/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 151</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  8.59 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">    20m/8.04m/1.12m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 152</span> <span style="color: #000000; background: #FFFFFF;">      dpos2 = (pred.x-trxcurr.x(ordercurr)).^2 + (pred.y-trxcurr.y(ordercurr)).^2; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 30.33 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">  47.3m/53.3m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 153</span> <span style="color: #000000; background: #FFFFFF;">      dtheta = abs(<a href="file179.html">modrange</a>(pred.theta-trxcurr.theta(ordercurr),-pi/2,pi/2)); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  5.16 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">    22m/4.94m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 154</span> <span style="color: #000000; background: #FFFFFF;">      darea = abs(pred.area-trxcurr.area(ordercurr)); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">    22m/4.94m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 155</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 12.54 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">  21.7m/8.95m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 156</span> <span style="color: #000000; background: #FFFFFF;">      errcurr = sqrt(sum(dpos2))*params.err_weightpos + ... </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  21.7m/8.95m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 157</span> <span style="color: #000000; background: #FFFFFF;">        sqrt(sum(dtheta.^2))*params.err_weighttheta + ...</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  21.7m/8.95m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 158</span> <span style="color: #000000; background: #FFFFFF;">        sqrt(sum(darea.^2))*params.err_weightarea;</span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  21.7m/8.95m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 159</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.30 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">  2.52m/3.23m/94.4k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 160</span> <span style="color: #000000; background: #FFFFFF;">      if errcurr &lt; besterr, </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.17 </span></td><td><span style="color: #0000FF"> 211630 </span></td><td><span style="color: #20AF20">  1.05m/1.05m/64.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 161</span> <span style="color: #000000; background: #FFFFFF;">        order = ordercurr; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.37 </span></td><td><span style="color: #0000FF"> 211630 </span></td><td><span style="color: #20AF20">   678k/11.2m/32.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 162</span> <span style="color: #000000; background: #FFFFFF;">        besterr = errcurr; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.02 </span></td><td><span style="color: #0000FF"> 211630 </span></td><td><span style="color: #20AF20">    574k/925k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 163</span> <span style="color: #000000; background: #FFFFFF;">      end </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.33 </span></td><td><span style="color: #0000FF"> 319968 </span></td><td><span style="color: #20AF20">   1.94m/2.35m/102k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 164</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   1.94m/2.35m/102k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 165</span> <span style="color: #228B22; background: #FFFFFF;">      </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.03 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">  1.41m/1.55m/51.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 166</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  1.41m/1.55m/51.5k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 167</span> <span style="color: #228B22; background: #FFFFFF;"> </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.16 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    1.52m/1.98m/64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 168</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.x = trxcurr.x(order); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.67 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   1.51m/1.25m/166k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 169</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.y = trxcurr.y(order); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.54 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  2.31m/1.51m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 170</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.a = trxcurr.a(order); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.55 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  2.43m/1.72m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 171</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.b = trxcurr.b(order); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.60 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   1.17m/1.87m/141k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 172</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.theta = trxcurr.theta(order); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.03 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  2.62m/2.03m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 173</span> <span style="color: #000000; background: #FFFFFF;">  trxcurr.area = trxcurr.area(order); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  2.62m/2.03m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 174</span> <span style="color: #228B22; background: #FFFFFF;">  </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  5.19 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  2.49m/4.67m/51.4k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 175</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  2.49m/4.67m/51.4k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 176</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">  2.49m/4.67m/51.4k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 177</span> <span style="color: #228B22; background: #FFFFFF;">%% predicted position for next frame</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.92 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   1.65m/1.46m/260k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 178</span> <span style="color: #000000; background: #FFFFFF;">pred.area = trxcurr.area; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.78 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">      620k/596k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 179</span> <span style="color: #000000; background: #FFFFFF;">if pred.isfirstframe, </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     16 </span></td><td><span style="color: #20AF20">      620k/596k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 180</span> <span style="color: #000000; background: #FFFFFF;">  pred.x = trxcurr.x; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     16 </span></td><td><span style="color: #20AF20">      620k/596k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 181</span> <span style="color: #000000; background: #FFFFFF;">  pred.y = trxcurr.y; </span><br/></pre></td></tr><tr><td></td><td><span style="color: #0000FF">     16 </span></td><td><span style="color: #20AF20">      620k/596k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 182</span> <span style="color: #000000; background: #FFFFFF;">  pred.theta = trxcurr.theta; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.68 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">    459k/542k/4.05k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 183</span> <span style="color: #228B22; background: #FFFFFF;">else </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.76 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">    1.82m/2.16m/64k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 184</span> <span style="color: #000000; background: #FFFFFF;">  pred.x = (2-params.err_dampen_pos)*trxcurr.x - (1-params.err_dampen_pos)*trxprev.x; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.48 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">   8.75m/2.5m/32.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 185</span> <span style="color: #000000; background: #FFFFFF;">  pred.y = (2-params.err_dampen_pos)*trxcurr.y - (1-params.err_dampen_pos)*trxprev.y; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 22.60 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">  30.4m/19.4m/1.21m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 186</span> <span style="color: #000000; background: #FFFFFF;">  dtheta = <a href="file179.html">modrange</a>(trxcurr.theta-trxprev.theta,-pi/2,pi/2); </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  2.64 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">  2.03m/4.05m/98.5k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 187</span> <span style="color: #000000; background: #FFFFFF;">  pred.theta = trxcurr.theta+(1-params.err_dampen_theta)*dtheta; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  0.64 </span></td><td><span style="color: #0000FF"> 159984 </span></td><td><span style="color: #20AF20">      526k/906k/32k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 188</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      526k/906k/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 189</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">      526k/906k/32k </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 190</span> <span style="color: #228B22; background: #FFFFFF;">% switch around priors, move toward .5, .5</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.52 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   32.1m/1.9m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 191</span> <span style="color: #000000; background: #FFFFFF;">pred.mix.priors = (1-params.err_dampen_priors)*trxpriors(order) + params.err_dampen_priors*.5; </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   32.1m/1.9m/1.06m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 192</span> <span style="color: #228B22; background: #FFFFFF;">% set centres, covars to predicted positions</span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  3.78 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">    14m/12.8m/97.1k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 193</span> <span style="color: #000000; background: #FFFFFF;">pred.mix.centres = [pred.x,pred.y]; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000"> 40.55 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">   105m/82.8m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 194</span> <span style="color: #000000; background: #FFFFFF;">pred.mix.covars = <a href="file137.html">axes2cov</a>(trxcurr.a,trxcurr.b,pred.theta); </span><br/></pre></td></tr><tr><td></td><td></td><td><span style="color: #20AF20">   105m/82.8m/10.1m </span></td><td class="leftAligned"><pre><span style="color: #A0A0A0"> 195</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  1.12 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">     798k/897k/192k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 196</span> <span style="color: #000000; background: #FFFFFF;">pred.isfirstframe = false; </span><br/></pre></td></tr><tr><td><span style="color: #FF0000">  4.04 </span></td><td><span style="color: #0000FF"> 160000 </span></td><td><span style="color: #20AF20">  6.97m/2.85m/40.8k </span></td><td class="leftAligned"><pre><span style="color: #000000; font-weight: bold"> 197</span> <span style="color: #000000; background: #FFFFFF;">trxcurr.priors=trxpriors(order); </span><br/></pre></td></tr></table></body></html>